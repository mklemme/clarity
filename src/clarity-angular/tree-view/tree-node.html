<!--
  ~ Copyright (c) 2016 VMware, Inc. All Rights Reserved.
  ~ This software is released under MIT license.
  ~ The full license information can be found in LICENSE in the root directory of this project.
  -->
<button
    class="clr-tree-node-caret"
    (click)="toggleExpand()"
    *ngIf="(isExpandable || hasChildren) && (!loading)">
    <clr-icon
        shape="caret"
        size="16"
        [dir]="caretDirection"></clr-icon>
</button>
<span class="tree-node-spinner spinner" *ngIf="loading">
    Loading...
</span>
<clr-checkbox
    *ngIf="selectable"
    [ngModel]="selected"
    (ngModelChange)="onSelectedChange()"
    [clrIndeterminate]="indeterminate"></clr-checkbox>
<ng-content></ng-content>
<!--span><b>Selected:</b> {{selected}}</span>
<span><b>Selection.Selected:</b> {{selection.selected}}</span>
<span><b>Selection.Indeterminate: </b> {{selection.indeterminate}}</span-->
<!-- FIXME: remove this string concatenation when boolean states are supported -->
<div
    class="clr-tree-node-children"
    [@collapse]="''+!expanded">
    <ng-content select="clr-tree-node"></ng-content>
</div>
